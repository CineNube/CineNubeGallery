<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Catálogo CineNube</title>
<style>
body { font-family: Arial, sans-serif; background:#111; color:#fff; padding:20px;}
.grid { display:grid; grid-template-columns: repeat(auto-fill,minmax(200px,1fr)); gap:15px; }
.card { background:#1e1e1e; border-radius:10px; padding:10px; text-align:center;}
.card img { max-width:100%; border-radius:5px;}
.card h3 { margin:5px 0; font-size:16px;}
.card p { font-size:13px; }
.button { background:#ff4500; color:#fff; padding:5px 8px; border-radius:5px; text-decoration:none; margin:2px; display:inline-block;}
</style>
</head>
<body>

<h1>Catálogo de CineNube</h1>
<div class="grid" id="grid"></div>

<script>
async function loadCatalogo(){
  const resp = await fetch('https://script.google.com/macros/s/AKfycbx1Vq5HqmPMExtgm1PRgct2WRzGex5BTEtDERIKHA20VZNFf-umdHpiKD94Df80S2vO1g/exec');
  const items = await resp.json();
  const grid = document.getElementById('grid');
  grid.innerHTML='';
  items.forEach(item=>{
    const div=document.createElement('div');
    div.className='card';
    div.innerHTML=`
      <img src="${item.poster}" alt="${item.title}">
      <h3>${item.title}</h3>
      <p>⭐ ${item.rating} | ${item.year}</p>
      <p>${item.generos}</p>
      <div>${renderSeasons(item.season_links)}</div>
      <div>${item.terabox?`<a class="button" href="${item.terabox}">Ver ahora</a>`:''}</div>
    `;
    grid.appendChild(div);
  });
}

function renderSeasons(seasons){
  if(!seasons || seasons.length===0) return 'Sin temporadas disponibles';
  return seasons.map(s=>`<a class="button" href="${s.link}">Temporada ${s.season}</a>`).join(' ');
}

loadCatalogo();
</script>

</body>
</html>
