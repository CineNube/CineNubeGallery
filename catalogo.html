<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Catálogo CineNube</title>
<link rel="stylesheet" href="catalogo.css">
</head>
<body>
<h1>Catálogo CineNube</h1>
<div id="catalogo"></div>
<script>
const SHEET_JSON_URL = "https://script.google.com/macros/s/AKfycbx1Vq5HqmPMExtgm1PRgct2WRzGex5BTEtDERIKHA20VZNFf-umdHpiKD94Df80S2vO1g/exec"; // Cambia por tu WebApp

async function renderCatalog() {
  try {
    const res = await fetch(SHEET_JSON_URL);
    const data = await res.json();
    const container = document.getElementById("catalogo");
    container.innerHTML = "";
    data.forEach(item => {
      const card = document.createElement("div");
      card.className = "item";
      let html = `<img src="${item.poster}" alt="${item.title}">
                  <h2>${item.title}</h2>
                  <p>${item.overview}</p>
                  <p>⭐ ${item.rating} | ${item.year}</p>`;
      if(item.type === "series" && item.season_links.length){
        html += "<div class='botones'>";
        item.season_links.forEach(s=>{
          html += `<a href="${s.link}" target="_blank">Temporada ${s.season}</a>`;
        });
        html += "</div>";
      } else if(item.type === "movie" && item.terabox){
        html += `<div class='botones'><a href="${item.terabox}" target="_blank">Ver ahora</a></div>`;
      }
      card.innerHTML = html;
      container.appendChild(card);
    });
  } catch(err) {console.error(err);}
}
window.onload = renderCatalog;
</script>
<style>
body {font-family: Arial; margin:0; padding:0;}
#catalogo {display:flex; flex-wrap:wrap; gap:20px; padding:20px;}
.item {border:1px solid #ccc; padding:10px; width:250px; box-sizing:border-box;}
.item img {width:100%; height:auto;}
.botones a {display:block; margin:5px 0; padding:5px; background:#f60; color:#fff; text-decoration:none; text-align:center;}
</style>
</body>
</html>
