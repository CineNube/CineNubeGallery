<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CineNube</title>
<style>
body { font-family: Arial, sans-serif; background: #0e0e0e; color: #fff; margin:0; padding:20px;}
.card { background:#1c1c1c; border-radius:10px; padding:15px; margin-bottom:15px; }
.card img { max-width:150px; float:left; margin-right:15px; border-radius:5px;}
.card h2 { margin:0; font-size:18px; }
.card p { font-size:14px; line-height:1.4; }
.clearfix::after { content:""; display:block; clear:both;}
.button { background:#ff4500; color:#fff; padding:5px 10px; border:none; border-radius:5px; text-decoration:none; margin:2px; display:inline-block;}
</style>
</head>
<body>

<h1>CineNube Gallery</h1>
<div id="catalogo"></div>

<script>
async function loadCatalogo(){
  const resp = await fetch('https://script.google.com/macros/s/AKfycbx1Vq5HqmPMExtgm1PRgct2WRzGex5BTEtDERIKHA20VZNFf-umdHpiKD94Df80S2vO1g/exec');
  const items = await resp.json();
  const container = document.getElementById('catalogo');
  container.innerHTML = '';
  items.forEach(item=>{
    const div = document.createElement('div');
    div.className='card clearfix';
    div.innerHTML = `
      <img src="${item.poster}" alt="${item.title}">
      <h2>${item.title} | ${item.year}</h2>
      <p>${item.overview}</p>
      <p>‚≠ê ${item.rating} | ${item.generos}</p>
      <div>${renderSeasons(item.season_links)}</div>
      <div>${item.terabox?`<a class="button" href="${item.terabox}">Ver ahora</a>`:''}</div>
    `;
    container.appendChild(div);
  });
}

function renderSeasons(seasons){
  if(!seasons || seasons.length===0) return 'Sin temporadas disponibles';
  return seasons.map(s=>`<a class="button" href="${s.link}">Temporada ${s.season}</a>`).join(' ');
}

loadCatalogo();
</script>

</body>
</html>
