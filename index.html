<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CineNube</title>
<style>
body { font-family: 'Segoe UI', Arial, sans-serif; background: #0e0e0e; color: #fff; margin:0; padding:0;}
.container { padding: 20px; max-width: 1200px; margin:auto;}
.producto { background: #1c1c1c; margin-bottom: 15px; padding: 15px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.5);}
.producto img { max-width: 150px; float:left; margin-right: 15px; border-radius:5px;}
.producto h2 { margin:0 0 10px;}
.producto p { margin:5px 0;}
.clearfix::after { content:""; display:block; clear:both;}
.botones a { display:inline-block; margin:5px 5px 0 0; padding:5px 10px; background:#ff5722; color:#fff; text-decoration:none; border-radius:4px;}
</style>
</head>
<body>
<div class="container" id="todos-los-productos"></div>

<script>
const SHEET_WEBAPP_URL = 'https://script.google.com/macros/s/AKfycbx1Vq5HqmPMExtgm1PRgct2WRzGex5BTEtDERIKHA20VZNFf-umdHpiKD94Df80S2vO1g/exec';

async function loadProducts(){
  try{
    const res = await fetch(SHEET_WEBAPP_URL);
    const data = await res.json();
    const cont = document.getElementById('todos-los-productos');
    data.forEach(item=>{
      let div = document.createElement('div');
      div.className='producto clearfix';
      div.innerHTML = `
        <img src="${item.poster||''}" alt="${item.title||''}">
        <h2>${item.title||''}</h2>
        <p>${item.overview||''}</p>
        <p>‚≠ê ${item.rating||'N/A'} | üìÖ ${item.year||''}</p>
        <div class="botones">
          ${item.type==='series' && item.season_links && item.season_links.length>0 ? item.season_links.map(s=>`<a href="${s.link}" target="_blank">Temporada ${s.season}</a>`).join('') : 'Sin temporadas disponibles'}
          ${item.type==='movie' && item.terabox ? `<a href="${item.terabox}" target="_blank">Ver ahora</a>` : ''}
        </div>
      `;
      cont.appendChild(div);
    });
  }catch(e){ console.log('Error cargando productos:',e);}
}

loadProducts();
</script>
</body>
</html>
