<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CineNube Gallery</title>
<style>
  body { font-family: Arial, sans-serif; background: #121212; color: #fff; margin: 0; padding: 0; }
  header { text-align: center; padding: 2rem; background: #1f1f1f; }
  h1 { margin: 0; font-size: 2rem; }
  #catalog { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 1.5rem; padding: 2rem; }
  .item { background: #1e1e1e; border-radius: 12px; overflow: hidden; display: flex; flex-direction: column; text-align: center; transition: transform 0.2s; }
  .item:hover { transform: scale(1.05); }
  .poster { width: 100%; height: 330px; object-fit: cover; }
  .info { padding: 1rem; flex: 1; display: flex; flex-direction: column; justify-content: space-between; }
  .title { font-size: 1.1rem; font-weight: bold; margin-bottom: 0.5rem; }
  .overview { font-size: 0.85rem; margin-bottom: 0.5rem; color: #ccc; }
  .rating { margin-bottom: 0.5rem; }
  .votes { display: flex; justify-content: center; gap: 1rem; font-size: 0.9rem; margin-top: 0.5rem; }
  .votes span { display: flex; align-items: center; gap: 0.3rem; }
</style>
</head>
<body>

<header>
  <h1>CineNube Gallery</h1>
</header>

<div id="catalog"></div>

<script>
// URL de tu webapp JSON de Apps Script
const API_URL = 'https://script.google.com/macros/s/tu_webapp_id/exec';

async function fetchData() {
  try {
    const res = await fetch(API_URL);
    const data = await res.json();
    displayCatalog(data);
  } catch(e) {
    console.error("Error cargando datos:", e);
    document.getElementById('catalog').innerHTML = '<p style="text-align:center;">Error al cargar los t√≠tulos</p>';
  }
}

function displayCatalog(items) {
  const catalog = document.getElementById('catalog');
  catalog.innerHTML = '';
  
  items.forEach(item => {
    const div = document.createElement('div');
    div.className = 'item';
    
    div.innerHTML = `
      <img class="poster" src="${item.poster || 'https://via.placeholder.com/600x900?text=No+Image'}" alt="${item.title}">
      <div class="info">
        <div>
          <div class="title">${item.title}</div>
          <div class="overview">${item.overview ? item.overview.substring(0,100)+'...' : ''}</div>
          <div class="rating">‚≠ê ${item.rating || 'N/A'} | üìÖ ${item.year || ''}</div>
        </div>
        <div class="votes">
          <span>üëç ${item.votes_up || 0}</span>
          <span>üëé ${item.votes_down || 0}</span>
        </div>
      </div>
    `;
    
    catalog.appendChild(div);
  });
}

// Cargar datos al inicio
fetchData();
</script>

</body>
</html>
